# miniz_oxide
Rust replacement for miniz

## Building

```bash
$ ./build.sh
```

## Testing

```bash
$ ./test.sh
```

## Including in Rust projects
Even thought miniz_oxide uses cargo internally, it is not a crate and should be used as if it is a foreign library. To build a crate with miniz_oxide you need to follow those steps:

- Write extern block with miniz functions with attribute `#[link(name = "miniz_oxide")]`
- Run build.sh from build.rs of your project and add `links = "miniz_oxide"` to `[package]`

## Including in C/C++ projects

Link against the libminiz_oxide.a generated by build.sh

## AFL testing

To run American Fuzzy Lop you need to start docker:

```bash
$ docker run -v $(pwd):/source -it corey/afl.rs bash
```

And from there build miniz_oxide with afl_test feature:

```bash
$ cargo build --release --features="afl_test"
```

Finally, run the afl:

```bash
afl-fuzz -i in -o out target/release/miniz_oxide
```
